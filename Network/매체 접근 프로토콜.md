## 매체 접근 프로토콜

여러 호스트가 하나의 링크를 공유하여 사용할 때 각 호스트가 링크 사용하는 것을 제한하기 위해 존재

### 임의 접근 - Random Access

각 호스트가 링크에 접근하기 위한 우선순위가 존재하지 않음

- 전송하고자 하는 데이터가 있을때 언제든 공유 링크에 접근 가능
- 그 다음 어떤 호스트가 데이터를 전송해야 하는지 규칙 없음
- 공유 링크에 접근하기 위해 각각의 호스트는 서로 **경쟁 (comtention)** 함

2개 이상의 호스트가 동시에 링크에 접근하게 될 경우 **충돌**이 발생함
충돌을 방지하기 위한 여러 프로토콜이 존재

## ALOHA

<img src = "https://t1.daumcdn.net/cfile/tistory/241A7D475431068E15"/>

-> Pure ALOHA - 순수, Slotted ALOHA - 틈새

### 순수 ALOHA

> 1970년대 초반에 하와이 대학에서 무선 LAN을 위해 설계됨

- 충돌이 발생하지 않는것을 보장할 수 없음
- 각 지국은 전송하고자 하는 프레임이 있을 경우에 언제든지 전송함

**전송**

- 송신측은 수신측이 프레임을 성공적으로 받은 경우 확인 응답을 기대

  응답이 오지 않은 경우

  - 송신측은 충돌 방지를 위해 일정 **대기 시간 (back-off time)** 을 두고 프레임을 재전송함

### 틈새 ALOHA

> 순수 ALOHA의 효율성을 높이기 위해 만들어짐

- 시간을 나눠서 틈새 시간 사이에 프레임을 전송할 수 있도록 함
  - 틈새 시간 사이에 두 프레임이 동시에 전송되게 될 경우에는 여전히 충돌이 발생하지만
    순수 ALOHA 보다 취약 시간이 2배 줄어듦
  - 만약 한 프레임이 틈새 시간을 놓치게 되면 다음 틈새 시간이 생길 때까지 기다림

## 반송파 감지 다중 접근 - CSMA

<img src = "https://terms.tta.or.kr/webcont/images_old/terms/cs-ma-cd.jpg"/>

> 쉽게 생각해서 각 지국이 프레임을 전송하기 전 전송중인 프레임이 있나 확인하고 전송

**CSMA도 충돌이 발생하지 않는 것은 보장할 수 없음**

- 전송된 프레임의 첫번째 비트가 해당 지국에 도달하지 않은 경우 채널이 비었다고 판단
- 프레임을 그대로 전송하여 두 프레임이 충돌

### 지속 방식

채널이 비어있거나 사용중인 경우 각 지국이 해야 할 동작을 정하기 위한 방식들

- **1-지속 방식**
  - 채널이 비어있는 것을 감지하면 바로 프레임을 전송
  - 두 지국이 동시에 프레임을 전송하면 **충돌이 일어남**
- **비지속 방식**
  - 채널이 비어있는 경우 바로 프레임을 전송
  - 채널이 비어있지 않은 경우 일정 시간을 대기 후 다시 **채널을 확인함**
- **p-지속 방식**
  - 채널이 비어있는 경우 확률 p를 가지고 프레임 전송
  - 프레임 전송 후 확률 q(1-p)를 가지고 다음 틈새 시작까지 대기
    - 회선이 비어있으면 프레임 전송
    - 회선이 비어있지 않으면 대기

### 반송파 감지 다중접근/ 충돌 검출 - CSMA/CD

> 충돌이 발생한 경우 충돌을 해결하는것에 초점을 맞춤

- 유선 인터넷 환경에서 사용
- 충돌이 발생한 후 재전송을 시도하기 때문에 지연 시간이 발생함

### 반송파 감지 다중접근 / 충돌 회피 - CSMA/CA

> 충돌이 발생한 경우를 감지하여 프레임 전송 전 최대한 충돌을 회피하는것에 초점을 맞춤

- 무선 인터넷 환경에서 사용
- 충돌 자체를 회피하려 하기 때문에 CSMA/CD에 비해 지연 시간이 적음
  - 채널을 다른 프레임이 사용중이라면 다른 지국들은 채널이 사용되는 동안 전송을 멈춤