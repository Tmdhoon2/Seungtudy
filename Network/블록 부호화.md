## 오류 검출

메시지를 **데이터워드**, **코드워드** 두 가지 부분으로 나눔

### 데이터워드

- 메시지를 k비트의 블록으로 나눔
- 각 블록에 r개의 중복 비트를 더함
  - n = k + r 로부터 얻게 된 n을 **코드워드** 라고함

### 오류 검출 코드

**절차**

1. 수신자는 유효 코드워드를 가지고 있음

2. 송신 측에서 데이터워드로부터 코드워드를 생성하여 수신측에게 전송

   a. 코드워드가 정상적으로 전송된 경우

   - 수신자는 유효 코드워드 목록으로부터 코드워드를 찾아서 데이터워드를 추출

   b. 코드워드 전송에 실패한 경우

   - 코드워드가 전송 도중 손상되었어도 유효 코드워드 목록에 존재한다면
     잘못된 데이터워드를 추출하게 됨
   - 코드워드가 유효 코드워드 목록에 존재하지 않는다면 해당 코드워드는 버려짐

> 찾을 수 있는 오류만 발견할 수 있음 == 수신측의 유효 코드워드 목록에 존재하는 코드만 발견 가능

### 해밍 거리

**2개의 워드 비트 사이의 서로 다른 대응 비트의 갯수**

- 해밍 거리를 알면 두 워드 사이의 오류가 몇 개 있는지 검출 할 수 있음
- 해밍 거리는 0이어야 함
- d(x, y) 형식으로 표기
  - x와 y를 XOR 연산하여 나온 결과값의 1의 갯수가 오류의 갯수, 즉 두 워드 사이의 해밍 거리임
- s개의 오류를 검출하기 위한 해밍 거리의 최소 값은 s+1 임

ex) d(01101, 11010) = 01101 xor 11010 == 10100, --> 해밍 거리 2

### 패리티 검사

수신된 데이터워드의 1의 갯수를 짝수로 만들기 위한 값을 데이터워드에 더하여 코드워드를 만들어냄

- 1의 갯수가 짝수
  - 데이터워드 + 맨 마지막 비트에 0 = 코드워드
- 1의 갯수가 홀수
  - 데이터워드 + 맨 마지막 비트에 1 = 코드워드

### 예제

| Datawords | Codewords | Datawords | Codewords |
| :-------: | :-------: | :-------: | :-------: |
|   0000    |   00000   |   1000    |   10001   |
|   0001    |   00011   |   1001    |   10010   |
|   0010    |   00101   |   1010    |   10100   |
|   0011    |   00110   |   1011    |   10111   |
|   0100    |   01001   |   1100    |   11000   |
|   0101    |   01010   |   1101    |   11011   |
|   0110    |   01100   |   1110    |   11101   |
|   0111    |   01111   |   1111    |   11110   |

송시자가 1011의 데이터 워드를 보낸경우 이로부터 생성 가능한 데이터워드의 오류 발생 경우

데이터워드 : 1011
코드워드 : 10111

1) 아무런 오류가 발생하지 않은 경우

   - 코드워드 1의 갯수가 짝수이므로 발생한 신드롬은 0

     -> 데이터워드 1011이 생성

2. 3번째 비트 손상
   - 코드워드 10011
   - 1의 갯수가 홀수이므로 신드롬 1 -> 데이터워드가 만들어지지 않음

> 패리티 검사는 홀수 개의 오류를 **검출** 할 수 있음

### CRC - 순환중복검사

오류를 수정하기 위한 순환 코드를 만드는 검사

<img width = "50%" src = "https://mblogthumb-phinf.pstatic.net/MjAyMDA3MTVfMjc5/MDAxNTk0Nzg5MDY3OTE5.ZJTltEFLxvGwGNvbqcSagLCtX9TO_TuXX7b68IbsvcEg.HyMb2CMFQBXdzIc0h9YbmgCyEZzBCORLOxumuNSSu5Ig.PNG.newbongman/image.png?type=w800"/>

- 부호기로 들어온 데이터워드 크기에 (코드워드 비트 수 - 데이터워드 비트 수)개의 0을 붙임

**송신측**

- 데이터워드와 제수를 나머지가 3비트만 남을때까지 XOR 연산
  - 나머지 3비트를 원본 데이터워드에 추가하여 수신측으로 전달

**수신측**

- 데이터워드와 제수를 나머지가 3비트만 남을때까지 XOR 연산
  - 나머지가 0인 경우 에러 없음

